<h1 class="p-3 text-center text-red-500 font-black text-3xl">Template driven Form</h1>

<section class="flex justify-center items-center">
  {{ userdata | json }}
  <form
    class="w-1/3 border-slate-300 border shadow p-5 rounded-md"
    #myForm="ngForm"
    (ngSubmit)="handleSubmit(myForm)"
  >
    <div>
      <label for="fullname">Full Name</label>
      <input
        type="text"
        id="fullname"
        class="formInput"
        [(ngModel)]="userdata.fullname"
        name="fullname"
        #fullname="ngModel"
        required
        minlength="5"
      />

      @if(fullname.errors?.['required'] && fullname.touched){
      <p class="text-xs text-red-500">Name is required</p>
      } @if(fullname.errors?.['minlength']){
      <p class="text-xs text-red-500">
        Name should contain atleast 5 characters. Only
        {{ fullname.errors?.['minlength'].actualLength }} characters were provided.
      </p>
      }
    </div>
    <div>
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        class="formInput"
        [(ngModel)]="userdata.email"
        name="email"
        required
        email
        #email="ngModel"
      />

      @if(email.errors?.['required'] && email.touched){
      <p>Email is required</p>
      }
    </div>
    <p>Enter your Gender</p>
    <div class="flex gap-4">
      <!-- <label for="male">Male</label>
      <input
        type="radio"
        id="male"
        name="gender"
        [(ngModel)]="userdata.gender"
        class="me-2"
        ngModel
      />
      <label for="female">Female</label>
      <input
        type="radio"
        id="female"
        name="gender"
        [(ngModel)]="userdata.gender"
        class="me-2"
        ngModel
      />
      <label for="others">Others</label>
      <input
        type="radio"
        id="others"
        name="gender"
        [(ngModel)]="userdata.gender"
        class="me-2"
        ngModel
      /> -->

      @for(data of radioData; track data.value){
      <section class="flex items-center gap-1">
        <label [for]="data.label">{{ data.label }}</label>
        <input type="radio" [id]="data.label" [value]="data.value" name="gender" ngModel />
      </section>

      }
    </div>
    <p>Select Your country</p>
    <div>
      @if(country.errors?.['required'] && country.touched){
      <p class="text-red-500 text-xs">Please select the country</p>
      }
      <select
        name="country"
        class="border border-slate-300 rounded p-2"
        #country="ngModel"
        ngModel
        required
      >
        <!-- <option value="">--Choose Your Country--</option>
        <option value="ind">India</option>
        <option value="eth">Ethiopia</option>
        <option value="esw">Eswatini</option>
        <option value="les">Lesotho</option> -->
        @for(country of countryData; track country.code){
        <option [value]="country.code">{{ country.name }}</option>
        }
      </select>
    </div>
    <p>Please choose any of the following destinations</p>
    <div>
      <label for="bali">Bali</label>
      <input type="checkbox" value="bali" id="bali" (change)="handleDestination($event)" />

      <label for="vietnam">Vietnam</label>
      <input type="checkbox" value="vietnam" id="vietnam" (change)="handleDestination($event)" />
      <label for="assam">Assam</label>
      <input type="checkbox" value="assam" id="assam" (change)="handleDestination($event)" />
      <label for="meghalaya">Meghalaya</label>
      <input
        type="checkbox"
        value="meghalaya"
        id="meghalaya"
        (change)="handleDestination($event)"
      />
    </div>

    <button
      type="submit"
      class="bg-blue-500 text-white w-full my-3 p-2 rounded disabled:bg-slate-400 disabled:cursor-not-allowed"
    >
      login
    </button>
  </form>
</section>
